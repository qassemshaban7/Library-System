<!DOCTYPE html>
<html lang="ar">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تفاصيل الكتاب</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f9;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: #fff;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            display: flex;
            align-items: flex-start;
            gap: 20px;
        }
        .book-image {
            flex: 1;
            max-width: 250px;
        }
        .book-image img {
            width: 100%;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        .details {
            flex: 2;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }
        .details p {
            margin: 10px 0;
        }
        .label {
            font-weight: bold;
            color: #555;
        }
    </style>
</head>
<body>
    <h1>تفاصيل الكتاب</h1>
    <div class="container">
        <!-- صورة الكتاب -->
        <div class="book-image">
            <img id="book-image" src="" alt="صورة الكتاب">
        </div>

        <!-- تفاصيل الكتاب -->
        <div id="book-details" class="details"></div>
    </div>

    <script>
        // بيانات الكتب المخزنة في Local Storage (مثال)
        // const books = [
        //     { 
        //         id: 1, 
        //         title: "تعلم JavaScript", 
        //         author: "مصطفى حافظ", 
        //         year: 2023,
        //         image: "https://via.placeholder.com/250x350.png?text=JavaScript+Book" 
        //     },
        //     { 
        //         id: 2, 
        //         title: "تعلم CSS", 
        //         author: "أحمد علي", 
        //         year: 2022,
        //         image: "https://via.placeholder.com/250x350.png?text=CSS+Book" 
        //     },
        //     { 
        //         id: 3, 
        //         title: "تعلم HTML", 
        //         author: "محمد سعيد", 
        //         year: 2021,
        //         image: "https://via.placeholder.com/250x350.png?text=HTML+Book" 
        //     }
        // ];
            
        // حفظ البيانات في Local Storage (مرة واحدة فقط)
        // if (!localStorage.getItem("books")) {
        //     localStorage.setItem("books", JSON.stringify(books));
        // }
        var books=localStorage.getItem("books");

        // دالة لجلب الـ ID من الـ URL
        function getBookIdFromURL() {
            const params = new URLSearchParams(window.location.search);
            return params.get("id");
        }

        // دالة للبحث عن الكتاب وعرض التفاصيل
        function displayBookDetails() {
            const bookId = getBookIdFromURL();
            if (!bookId) {
                alert("لا يوجد معرف للكتاب في الرابط!");
                return;
            }

            const savedBooks = JSON.parse(localStorage.getItem("books"));
            const book = savedBooks[getBookIdFromURL()];

            if (book) {
                document.getElementById("book-details").innerHTML = `
                    <p><span class="label">Name:</span> ${book.title}</p>
                    <p><span class="label">Author:</span> ${book.author}</p>
                    <p><span class="label">Price:</span> ${book.price}</p>
                    <p><span class="label">Description:</span> ${book.descreption}</p>
                `;
                document.getElementById("book-image").src = book.imageElement;
            } else {
                document.getElementById("book-details").innerHTML = "<p>الكتاب غير موجود!</p>";
            }
        }

        // عرض التفاصيل عند تحميل الصفحة
        displayBookDetails();
    </script>
</body>
</html>
