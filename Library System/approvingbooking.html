<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Delius+Swash+Caps&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

</head>
<body>
    <header>
        <a href="home.html" style="text-decoration: none; color: white"
          ><h1>bookloop</h1></a
        >
        <nav class="navbar">
          <ul>
            <li>
              <a href="sinUp.html"><i class="fas fa-user-plus"></i> Sign Up</a>
            </li>
            <li>
              <a href="login.html"><i class="fas fa-sign-in-alt"></i> Login</a>
            </li>
          </ul>
        </nav>
       
      </header>
    
    <div id="adminPanel" style="text-align: center;">
        <!-- <label id =></label> -->

        
    </div>
    <div  style="text-align: center;">
        <Button onclick="approveBooks()" style="background-color: green; color: black;" >Done</Button>

        
    </div>
    <footer>
        <p>&copy; 2024 Booking Library System. All rights reserved.</p>
      </footer>

    <script>


    var loggedInUser = localStorage.getItem("loggedInUser");

        function loadAdminPanel() {
      const pendingBooks = JSON.parse(localStorage.getItem("pendingBooks")) || [];
      pendingBooks.forEach(book => {
        const bookElement = document.createElement("div");
        bookElement.innerHTML = `
         <label>user name :${loggedInUser} - $${book.price}</label>
          <label>title : ${book.title} -  price:$${book.price} - approve ? </label>
           <input type="checkbox" id="approve-${book.id}" value="${book.id}">
        `;
        document.getElementById("adminPanel").appendChild(bookElement);
      }); }

      function approveBooks() {
      const pendingBooks = JSON.parse(localStorage.getItem("pendingBooks")) || [];
      const approvedBooks = [];

      pendingBooks.forEach(book => {
        const checkbox = document.getElementById(`approve-${book.id}`);
        if (checkbox && checkbox.checked) {
             book.status = "approved";
          approvedBooks.push(book);
            location.reload();  
        }
      });

      localStorage.setItem("approvedBooks", JSON.stringify(approvedBooks));
     
      alert("Books approved!");
      loadApprovedBooks();
      loadAdminPanel(); 
    }
        loadAdminPanel();
 
    </script>
    
</body>
</html>












